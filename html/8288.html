<h2 id=".E5.8A.9F.E8.83.BD.E6.8F.8F.E8.BF.B0">功能描述</h2><p>Options Object 接口实现 Object 跨域访问配置的预请求。即在发送跨域请求之前会发送一个 OPTIONS 请求并带上特定的来源域，HTTP 方法和 HEADER 信息等给 COS，以决定是否可以发送真正的跨域请求。当 CORS 配置不存在时，请求返回 403 Forbidden。可以通过 Put Bucket CORS 接口来开启 Bucket 的 CORS 支持。</p>
<h2 id=".E8.AF.B7.E6.B1.82">请求</h2><h4 id=".E8.AF.B7.E6.B1.82.E8.AF.AD.E6.B3.95.E7.A4.BA.E4.BE.8B">请求语法示例</h4><p><strong>shell:</strong> </p>
<pre><code class="lang-shell"><span class="hljs-comment"># You can also use curl</span>
curl -X OPTIONS http:<span class="hljs-comment">//{bucket}.cos.{region}.myqcloud.com/{ObjectName} \</span>
  -H <span class="hljs-string">'Origin: string'</span> \
  -H <span class="hljs-string">'Access-Control-Request-Method: string'</span> \
  -H <span class="hljs-string">'Access-Control-Request-Headers: string'</span>
</code></pre>
<p><strong>http:</strong> </p>
<pre><code class="lang-http"><span class="hljs-keyword">OPTIONS</span> <span class="hljs-string">http://{bucket}.cos.{region}.myqcloud.com/{ObjectName}</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: 

<span class="cpp">
Origin: <span class="hljs-built_in">string</span>
Access-Control-Request-Method: <span class="hljs-built_in">string</span>
Access-Control-Request-Headers: <span class="hljs-built_in">string</span></span>
</code></pre>
<h3 id=".E8.AF.B7.E6.B1.82.E8.A1.8C">请求行</h3><pre><code><span class="hljs-keyword">OPTIONS</span> <span class="hljs-string">/{ObjectName}</span> HTTP/1.1
</code></pre><p>该 API 接口接受 <code>OPTIONS</code> 请求。</p>
<h3 id=".E8.AF.B7.E6.B1.82.E5.A4.B4">请求头</h3><h4 id=".E5.85.AC.E5.85.B1.E5.A4.B4.E9.83.A8">公共头部</h4><p>该请求操作的实现使用公共请求头，了解公共请求头详细请参见 <a href="/document/product/436/7728" title="公共请求头部">公共请求头部</a> 章节。</p>
<h4 id=".E9.9D.9E.E5.85.AC.E5.85.B1.E5.A4.B4.E9.83.A8">非公共头部</h4><table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>Origin</td>
<td>string</td>
<td>是</td>
<td>模拟跨域访问的请求来源域名。</td>
</tr>
<tr>
<td>Access-Control-Request-Method</td>
<td>string</td>
<td>是</td>
<td>模拟跨域访问的请求 HTTP 方法。</td>
</tr>
<tr>
<td>Access-Control-Request-Headers</td>
<td>string</td>
<td>否</td>
<td>模拟跨域访问的请求头部。</td>
</tr>
</tbody>
</table>
<h3 id=".E8.AF.B7.E6.B1.82.E4.BD.93">请求体</h3><p>该请求请求体为空。</p>
<h2 id=".E5.93.8D.E5.BA.94">响应</h2><h3 id=".E5.93.8D.E5.BA.94.E5.A4.B4">响应头</h3><h4 id=".E5.85.AC.E5.85.B1.E5.93.8D.E5.BA.94.E5.A4.B4">公共响应头</h4><p>该响应使用公共响应头，了解公共响应头详细请参见 <a href="/document/product/436/7729" title="公共响应头部">公共响应头部</a> 章节。</p>
<h4 id=".E7.89.B9.E6.9C.89.E5.93.8D.E5.BA.94.E5.A4.B4">特有响应头</h4><p>该请求操作的响应头具体数据为：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>Access-Control-Allow-Origin</td>
<td>string</td>
<td>模拟跨域访问的请求来源域名，当来源不允许的时候，此 Header 不返回。</td>
</tr>
<tr>
<td>Access-Control-Allow-Methods</td>
<td>string</td>
<td>模拟跨域访问的请求 HTTP 方法，当请求方法不允许的时候，此 Header 不返回。</td>
</tr>
<tr>
<td>Access-Control-Allow-Headers</td>
<td>string</td>
<td>模拟跨域访问的请求头部，当模拟任何请求头部不允许的时候，此 Header 不返回该请求头部。</td>
</tr>
<tr>
<td>Access-Control-Expose-Headers</td>
<td>string</td>
<td>模拟跨域访问的请求 HTTP 方法，当请求方法不允许的时候，此 Header 不返回。</td>
</tr>
<tr>
<td>Access-Control-Max-Age</td>
<td>string</td>
<td>设置 OPTIONS 请求得到结果的有效期。</td>
</tr>
</tbody>
</table>
<h3 id=".E5.93.8D.E5.BA.94.E4.BD.93">响应体</h3><p>该请求响应体为空。</p>
<h2 id=".E5.AE.9E.E9.99.85.E6.A1.88.E4.BE.8B">实际案例</h2><h3 id=".E8.AF.B7.E6.B1.822">请求</h3><pre><code><span class="hljs-keyword">OPTIONS</span> <span class="hljs-string">/coss3/ObjectName</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: arlenhuangtestsgnoversion-1251668577.cos.ap-beijing.myqcloud.com
<span class="hljs-attribute">Date</span>: Thu, 12 Jan 2017 17:26:53 GMT
<span class="hljs-attribute">Origin</span>: http://www.qq.com
<span class="hljs-attribute">Access-Control-Request-Method</span>: PUT
<span class="hljs-attribute">Authorization</span>: q-sign-algorithm=sha1&amp;q-ak=AKIDDNMEycgLRPI2axw9xa2Hhx87wZ3MqQCn&amp;q-sign-time=1487070734;32466654734&amp;q-key-time=1487070734;32559966734&amp;q-header-list=host&amp;q-url-param-list=&amp;q-signature=2ac3ada19910f44836ae0df72a0ec1003f34324b
</code></pre><h3 id=".E5.93.8D.E5.BA.942">响应</h3><pre><code><span class="hljs-keyword">OPTIONS</span> <span class="hljs-string">/&lt;ObjectName&gt;</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: &lt;Bucketname&gt;-&lt;APPID&gt;.cos.&lt;Region&gt;.myqcloud.com
<span class="hljs-attribute">Date</span>: GMT Date
<span class="hljs-attribute">Origin</span>: Origin
<span class="hljs-attribute">Access-Control-Request-Method</span>: HTTPMethod
<span class="hljs-attribute">Access-Control-Request-Headers</span>: RequestHeader
<span class="hljs-attribute">Authorization</span>: Auth String
</code></pre>