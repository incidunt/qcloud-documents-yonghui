<h2 id=".E5.8A.9F.E8.83.BD.E6.8F.8F.E8.BF.B0">功能描述</h2><p>List Parts 用来查询特定分块上传中的已上传的块，即罗列出指定 UploadId 所属的所有已上传成功的分块。</p>
<h2 id=".E8.AF.B7.E6.B1.82">请求</h2><h4 id=".E8.AF.B7.E6.B1.82.E8.AF.AD.E6.B3.95.E7.A4.BA.E4.BE.8B">请求语法示例</h4><p><strong>shell:</strong> </p>
<pre><code class="lang-shell"><span class="hljs-comment"># You can also use curl</span>
curl -X GET http:<span class="hljs-comment">//{bucket}.cos.{region}.myqcloud.com/{ObjectName}?uploadId={UploadId}?UploadId=string \</span>
  -H <span class="hljs-string">'Accept: application/xml'</span>
</code></pre>
<p><strong>http:</strong> </p>
<pre><code class="lang-http"><span class="hljs-keyword">GET</span> <span class="hljs-string">http://{bucket}.cos.{region}.myqcloud.com/{ObjectName}?uploadId={UploadId}?UploadId=string</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: 

<span class="makefile"><span class="hljs-section">Accept: application/xml</span></span>
</code></pre>
<h3 id=".E8.AF.B7.E6.B1.82.E8.A1.8C">请求行</h3><pre><code><span class="hljs-keyword">GET</span> <span class="hljs-string">/{ObjectName}?uploadId={UploadId}</span> HTTP/1.1
</code></pre><p>该 API 接口接受 <code>GET</code> 请求。</p>
<h4 id=".E8.AF.B7.E6.B1.82.E5.8F.82.E6.95.B0">请求参数</h4><p>包含所有请求参数的请求行示例：</p>
<pre><code><span class="hljs-keyword">GET</span> <span class="hljs-string">/{ObjectName}?uploadId={UploadId}?UploadId=[undefined]&amp;encoding-type=[url]&amp;max-parts=[MaxParts]&amp;part-number-marker=[PartNumberMarker]</span> HTTP/1.1
</code></pre><table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>UploadId</td>
<td>string</td>
<td>是</td>
<td>标识本次分块上传的 ID。使用 Initiate Multipart Upload 接口初始化分片上传时会得到一个 uploadId，该 ID 不但唯一标识这一分块数据，也标识了这分块数据在整个文件内的相对位置。</td>
</tr>
<tr>
<td>encoding-type</td>
<td>string</td>
<td>否</td>
<td>规定返回值的编码方式。</td>
</tr>
<tr>
<td>max-parts</td>
<td>string</td>
<td>否</td>
<td>单次返回最大的条目数量，默认 1000。</td>
</tr>
<tr>
<td>part-number-marker</td>
<td>string</td>
<td>否</td>
<td>默认以 UTF-8 二进制顺序列出条目，所有列出条目从 marker 开始。</td>
</tr>
</tbody>
</table>
<h3 id=".E8.AF.B7.E6.B1.82.E5.A4.B4">请求头</h3><h4 id=".E5.85.AC.E5.85.B1.E5.A4.B4.E9.83.A8">公共头部</h4><p>该请求操作的实现使用公共请求头，了解公共请求头详细请参见 <a href="/document/product/436/7728" title="公共请求头部">公共请求头部</a> 章节。</p>
<h4 id=".E9.9D.9E.E5.85.AC.E5.85.B1.E5.A4.B4.E9.83.A8">非公共头部</h4><p>该请求操作无特殊的请求头部信息。</p>
<h3 id=".E8.AF.B7.E6.B1.82.E4.BD.93">请求体</h3><p>该请求请求体为空。</p>
<h2 id=".E5.93.8D.E5.BA.94">响应</h2><h3 id=".E5.93.8D.E5.BA.94.E5.A4.B4">响应头</h3><h4 id=".E5.85.AC.E5.85.B1.E5.93.8D.E5.BA.94.E5.A4.B4">公共响应头</h4><p>该响应使用公共响应头，了解公共响应头详细请参见 <a href="/document/product/436/7729" title="公共响应头部">公共响应头部</a> 章节。</p>
<h4 id=".E7.89.B9.E6.9C.89.E5.93.8D.E5.BA.94.E5.A4.B4">特有响应头</h4><p>该请求操作无特殊的响应头部信息。</p>
<h3 id=".E5.93.8D.E5.BA.94.E4.BD.93">响应体</h3><p>查询成功，返回 application/xml 数据，包含已完成的分片信息。</p>
<pre><code class="lang-xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span> <span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">ListPartsResult</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Bucket</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">Bucket</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Encoding-Type</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">Encoding-Type</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Key</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">Key</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">UploadId</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">UploadId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Initiator</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ID</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">ID</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">DisplayName</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">DisplayName</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Initiator</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Owner</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ID</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">ID</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">DisplayName</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">DisplayName</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Owner</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">StorageClass</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">StorageClass</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">PartNumberMarker</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">PartNumberMarker</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">NextPartNumberMarker</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">NextPartNumberMarker</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">MaxParts</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">MaxParts</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">IsTruncated</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">IsTruncated</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Part</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">PartNumber</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">PartNumber</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LastModified</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">LastModified</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ETag</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">ETag</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Size</span>&gt;</span>string<span class="hljs-tag">&lt;/<span class="hljs-name">Size</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Part</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ListPartsResult</span>&gt;</span>
</code></pre>
<p>具体的数据描述如下：</p>
<table>
<thead>
<tr>
<th>节点名称（关键字）</th>
<th>父节点</th>
<th>描述</th>
<th>类型</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>ListPartsResult</td>
<td>无</td>
<td>保存 List Parts 请求结果的所有信息。</td>
<td>Container</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>Container 节点 ListPartsResult 的内容：</p>
<table>
<thead>
<tr>
<th>节点名称（关键字）</th>
<th>父节点</th>
<th>描述</th>
<th>类型</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bucket</td>
<td>ListPartsResult</td>
<td>分块上传的目标 Bucket，存储桶的名字，由用户自定义字符串和系统生成 appid 数字串由中划线连接而成，如：mybucket-1250000000。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>Encoding-Type</td>
<td>ListPartsResult</td>
<td>编码格式。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>Key</td>
<td>ListPartsResult</td>
<td>Object 的名字。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>UploadId</td>
<td>ListPartsResult</td>
<td>标识本次分块上传的 ID。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>Initiator</td>
<td>ListPartsResult</td>
<td>用来表示这些分块所有者的信息。</td>
<td>Container</td>
<td>是</td>
</tr>
<tr>
<td>Owner</td>
<td>ListPartsResult</td>
<td>用来表示这些分块所有者的信息。</td>
<td>Container</td>
<td>是</td>
</tr>
<tr>
<td>StorageClass</td>
<td>ListPartsResult</td>
<td>用来表示这些分块的存储级别，枚举值：STANDARD，STANDARD_IA，NEARLINE。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>PartNumberMarker</td>
<td>ListPartsResult</td>
<td>默认以 UTF-8 二进制顺序列出条目，所有列出条目从 marker 开始。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>NextPartNumberMarker</td>
<td>ListPartsResult</td>
<td>假如返回条目被截断，则返回 NextMarker 就是下一个条目的起点。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>MaxParts</td>
<td>ListPartsResult</td>
<td>单次返回最大的条目数量。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>IsTruncated</td>
<td>ListPartsResult</td>
<td>响应请求条目是否被截断，布尔值：true，false。</td>
<td>boolean</td>
<td>是</td>
</tr>
<tr>
<td>Part</td>
<td>ListPartsResult</td>
<td>元数据信息。</td>
<td>Container</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>Container 节点 Initiator 的内容：</p>
<table>
<thead>
<tr>
<th>节点名称（关键字）</th>
<th>父节点</th>
<th>描述</th>
<th>类型</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>ListPartsResult.Initiator</td>
<td>创建者的一个唯一标识。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>DisplayName</td>
<td>ListPartsResult.Initiator</td>
<td>创建者的用户名描述。</td>
<td>string</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>Container 节点 Owner 的内容：</p>
<table>
<thead>
<tr>
<th>节点名称（关键字）</th>
<th>父节点</th>
<th>描述</th>
<th>类型</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>ListPartsResult.Owner</td>
<td>创建者的一个唯一标识。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>DisplayName</td>
<td>ListPartsResult.Owner</td>
<td>创建者的用户名描述。</td>
<td>string</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>Container 节点 Part 的内容：</p>
<table>
<thead>
<tr>
<th>节点名称（关键字）</th>
<th>父节点</th>
<th>描述</th>
<th>类型</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>PartNumber</td>
<td>ListPartsResult.Part</td>
<td>块的编号。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>LastModified</td>
<td>ListPartsResult.Part</td>
<td>说明块最后被修改时间。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>ETag</td>
<td>ListPartsResult.Part</td>
<td>块的 MD-5 算法校验值。</td>
<td>string</td>
<td>是</td>
</tr>
<tr>
<td>Size</td>
<td>ListPartsResult.Part</td>
<td>说明块大小，单位是 Byte。</td>
<td>string</td>
<td>是</td>
</tr>
</tbody>
</table>
<h2 id=".E5.AE.9E.E9.99.85.E6.A1.88.E4.BE.8B">实际案例</h2><h3 id=".E8.AF.B7.E6.B1.822">请求</h3><pre><code>GET /coss3/test10M_2?uploadId=<span class="hljs-number">14846420620</span>b1f381e5d7b057692e131dd8d72dfa28f2633cfbbe4d0a9e8bd0719933545b0&amp;<span class="hljs-built_in">max</span>-parts=<span class="hljs-number">1</span> HTTP/<span class="hljs-number">1.1</span>
Host:burning<span class="hljs-number">-1251668577.</span><span class="hljs-built_in">cos</span>.ap-beijing.myqcloud.com
Date: Wed，<span class="hljs-number">18</span> Jan <span class="hljs-number">2017</span> <span class="hljs-number">16</span>:<span class="hljs-number">17</span>:<span class="hljs-number">03</span> GMT
Authorization:q-sign-algorithm=sha1&amp;q-ak=AKIDDNMEycgLRPI2axw9xa2Hhx87wZ3MqQCn&amp;q-sign-<span class="hljs-built_in">time</span>=<span class="hljs-number">1484643123</span>;<span class="hljs-number">1484646723</span>&amp;q-key-<span class="hljs-built_in">time</span>=<span class="hljs-number">1484643123</span>;<span class="hljs-number">1484646723</span>&amp;q-header-list=host&amp;q-url-param-list=<span class="hljs-built_in">max</span>-parts;uploadId&amp;q-signature=b8b4055724e64c9ad848190a2f7625fd3f9d3e87
</code></pre><h3 id=".E5.93.8D.E5.BA.942">响应</h3><pre><code>HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Content-Type</span>: application/xml
<span class="hljs-attribute">Content-Length</span>: 661
<span class="hljs-attribute">Connection</span>: keep-alive
<span class="hljs-attribute">Date</span>: Wed，18 Jan 2017 16:17:03 GMT
<span class="hljs-attribute">x-cos-request-id</span>: NTg3ZGRiMzhfMmM4OGY3XzdhY2NfYw==

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ListPartsResult</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Bucket</span>&gt;</span>burning-123456789<span class="hljs-tag">&lt;/<span class="hljs-name">Bucket</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Encoding-type</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Key</span>&gt;</span>test10M_2<span class="hljs-tag">&lt;/<span class="hljs-name">Key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">UploadId</span>&gt;</span>14846420620b1f381e5d7b057692e131dd8d72dfa28f2633cfbbe4d0a9e8bd0719933545b0<span class="hljs-tag">&lt;/<span class="hljs-name">UploadId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Initiator</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ID</span>&gt;</span>123456789<span class="hljs-tag">&lt;/<span class="hljs-name">ID</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">DisplyName</span>&gt;</span>123456789<span class="hljs-tag">&lt;/<span class="hljs-name">DisplyName</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Initiator</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Owner</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ID</span>&gt;</span>qcs::cam::uin/156545789:uin/156545789<span class="hljs-tag">&lt;/<span class="hljs-name">ID</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">DisplyName</span>&gt;</span>156545789<span class="hljs-tag">&lt;/<span class="hljs-name">DisplyName</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Owner</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">PartNumberMarker</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">PartNumberMarker</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Part</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">PartNumber</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">PartNumber</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">LastModified</span>&gt;</span>Tue Jan 17 16:43:37 2017<span class="hljs-tag">&lt;/<span class="hljs-name">LastModified</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ETag</span>&gt;</span>"a1f8e5e4d63ac6970a0062a6277e191fe09a1382"<span class="hljs-tag">&lt;/<span class="hljs-name">ETag</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Size</span>&gt;</span>5242880<span class="hljs-tag">&lt;/<span class="hljs-name">Size</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Part</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">NextPartNumberMarker</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">NextPartNumberMarker</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">StorageClass</span>&gt;</span>STANDARD<span class="hljs-tag">&lt;/<span class="hljs-name">StorageClass</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">MaxParts</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">MaxParts</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">IsTruncated</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">IsTruncated</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ListPartsResult</span>&gt;</span></span>
</code></pre>